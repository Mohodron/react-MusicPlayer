import React, { useState } from "react";
import { audioData } from "./Audios";

function PlayPause(props) {
    const [loop, setLoop] = useState(false);
    const [songs, setSongs] = useState(audioData);

    function checkClick() {
        if (loop) {
            setLoop(false);
            props.looped(false);
        } else {
            setLoop(true);
            props.looped(true);
        }
    }
    function handleClick() {
        if (props.play) {
            props.setPlay(false);
            props.refero.current.play();
        } else {
            props.setPlay(true);
            props.refero.current.pause();
        }
    }

    const handlePrevious = () => {
        const index = songs.findIndex(x => x.name == props.currentSong.name);
        if (index === 0) {
            props.setCurrentSong(songs[songs.length - 1]);
        } else {
            props.setCurrentSong(songs[index - 1]);
        }
        props.reset(0);
        props.setPlay(false);
    }

    const handleNext = () => {
        const index = songs.findIndex(x => x.name == props.currentSong.name);
        if (index === songs.length - 1) {
            props.setCurrentSong(songs[0]);
        } else {
            props.setCurrentSong(songs[index + 1]);
        }
        props.setPlay(false);
        props.reset(0);
    }

    const handleReplay = () => {
        const index =  songs.findIndex(x => x.name == props.currentSong.name);
        props.setCurrentSong(songs[index]);
        props.reset(0);
        props.setPlay(false);
    }

    return (
        <div className="middle-section">
            <div onClick={handleReplay} className="cursor animation">
                <span  className="tooltip-text">Replay</span>
                <svg name="replay" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.7829 5.41125V2.51978C11.7829 2.05341 12.3425 1.82541 12.6638 2.15705L16.602 6.08489C16.8093 6.29217 16.8093 6.61344 16.602 6.82072L12.6742 10.7486C12.3425 11.0698 11.7829 10.8418 11.7829 10.3755V7.484C7.91721 7.484 4.85992 11.0284 5.70974 15.0391C6.19684 17.3917 8.10376 19.2883 10.446 19.7754C14.1458 20.5526 17.4415 18.0135 17.9389 14.5831C17.9759 14.3395 18.0984 14.1171 18.2845 13.9556C18.4706 13.7942 18.7082 13.7044 18.9546 13.7022C19.5764 13.7022 20.0739 14.2515 19.9909 14.8733C19.3484 19.423 15.0164 22.7912 10.1143 21.8377C6.88084 21.2056 4.27955 18.6043 3.64736 15.3708C2.62136 10.0542 6.6632 5.41125 11.7829 5.41125Z" fill="white" />
                </svg>
            </div>

            <div onClick={handlePrevious} className="cursor animation">
                <span className="tooltip-text">Previous</span>
                <svg name="previous" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22.7479 3.56592L22.8521 4.49968L22.9483 5.52427L22.9964 6.12272L23.0645 7.12461L23.1046 7.85932L23.1554 9.05356L23.1808 9.90984L23.1968 10.8115L23.2021 11.756L23.1968 12.7004L23.1808 13.6021L23.1554 14.4584L23.1233 15.2679L23.0859 16.028L23.0191 17.07L22.9724 17.6978L22.8521 19.0149L22.7466 19.9474C22.7133 20.2213 22.6168 20.4837 22.4647 20.7138C22.3126 20.944 22.1091 21.1357 21.8701 21.2737C21.6312 21.4117 21.3635 21.4922 21.0881 21.5089C20.8127 21.5256 20.5372 21.4781 20.2833 21.37L19.6287 21.0855L18.4986 20.5699L17.6704 20.1718L17.0586 19.8699L16.0594 19.3609L15.3407 18.9829L14.5846 18.5741L13.7911 18.1346L12.9642 17.6631L12.1427 17.1822L11.3652 16.716L10.2845 16.048L9.30937 15.4202L8.71759 15.0301L8.17524 14.6641L7.45388 14.1658L6.66974 13.6048L6.09533 13.1786C5.8748 13.0127 5.69591 12.7977 5.5728 12.5506C5.44969 12.3036 5.38574 12.0313 5.38599 11.7553C5.38625 11.4793 5.45072 11.2071 5.57429 10.9603C5.69787 10.7135 5.87716 10.4989 6.098 10.3333L6.53215 10.01L7.09587 9.60126L7.7865 9.11635L8.59736 8.56331L9.52444 7.95149L10.2057 7.51467L10.9351 7.05781L11.7112 6.58359L12.5354 6.09467L12.9629 5.8462C13.2407 5.6859 13.5133 5.52961 13.7818 5.38L14.5672 4.94451L15.3193 4.53841L16.3786 3.98538L17.3471 3.49779L17.9376 3.21059L18.7351 2.83254L19.8064 2.34897L20.2806 2.14325C20.5346 2.03466 20.8104 1.9867 21.0862 2.00316C21.3619 2.01963 21.63 2.10006 21.8693 2.2381C22.1086 2.37614 22.3124 2.56799 22.4647 2.79846C22.6169 3.02893 22.7148 3.29168 22.7479 3.56592ZM3.47173 2.41042C3.79893 2.41046 4.11472 2.53058 4.35923 2.74801C4.60374 2.96543 4.75994 3.26502 4.79823 3.58997L4.80758 3.74626V19.7764C4.80753 20.1036 4.68741 20.4194 4.46999 20.6639C4.25257 20.9084 3.95297 21.0646 3.62803 21.1029L3.47173 21.1122H2.13589C1.8087 21.1122 1.4929 20.992 1.2484 20.7746C1.00389 20.5572 0.847681 20.2576 0.8094 19.9327L0.800049 19.7764V3.74626C0.800092 3.41907 0.920216 3.10327 1.13764 2.85876C1.35506 2.61426 1.65465 2.45805 1.9796 2.41977L2.13589 2.41042H3.47173Z" fill="white" />
                </svg>
            </div>
            {props.play ?
                <div onClick={handleClick} className="cursor animation">
                    <span className="tooltip-text">Play</span>
                    <svg name="play" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.3356 3.60507L3.2288 4.56217L3.13021 5.61237L3.08092 6.22579L3.01109 7.25272L2.97001 8.0058L2.91798 9.2299L2.89196 10.1076L2.87553 11.0318L2.87005 11.9999L2.87553 12.9679L2.89196 13.8922L2.91798 14.7698L2.95084 15.5996L2.98918 16.3787L3.05764 17.4467L3.10556 18.0902L3.2288 19.4403L3.33696 20.396C3.37106 20.6768 3.46997 20.9457 3.62589 21.1817C3.7818 21.4176 3.99045 21.6141 4.23534 21.7555C4.48023 21.897 4.75467 21.9795 5.03695 21.9966C5.31923 22.0138 5.60163 21.965 5.86184 21.8543L6.53277 21.5626L7.69114 21.0341L8.54007 20.6261L9.16718 20.3166L10.1914 19.7949L10.928 19.4075L11.703 18.9885L12.5163 18.538L13.3639 18.0546L14.206 17.5617L15.0029 17.0839L16.1106 16.3992L17.1101 15.7557L17.7167 15.3559L18.2726 14.9807L19.012 14.47L19.8158 13.8949L20.4045 13.4581C20.6306 13.288 20.8139 13.0676 20.9401 12.8144C21.0663 12.5612 21.1319 12.2821 21.1316 11.9992C21.1313 11.7163 21.0652 11.4373 20.9386 11.1843C20.8119 10.9314 20.6281 10.7113 20.4018 10.5416L19.9568 10.2103L19.379 9.79129L18.6711 9.29426L17.8399 8.72739L16.8897 8.10028L16.1914 7.65254L15.4438 7.18426L14.6482 6.69818L13.8034 6.19704L13.3653 5.94236C13.0805 5.77805 12.8011 5.61785 12.5259 5.4645L11.7208 5.01812L10.9499 4.60187L9.86413 4.03501L8.87143 3.53524L8.26622 3.24085L7.44879 2.85336L6.35066 2.35769L5.86458 2.14683C5.60424 2.03553 5.32156 1.98637 5.03892 2.00324C4.75629 2.02012 4.48146 2.10256 4.23622 2.24405C3.99097 2.38554 3.78203 2.58219 3.62595 2.81842C3.46986 3.05465 3.36956 3.32398 3.3356 3.60507Z" fill="white" />
                    </svg>
                </div> :
                <div onClick={handleClick} className="cursor animation">
                    <span className="tooltip-text"> Pause </span>
                    <svg name="pasue" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21.3333 3.66667V20.3333C21.3333 20.7754 21.1577 21.1993 20.8452 21.5118C20.5326 21.8244 20.1087 22 19.6667 22H15.5C15.058 22 14.6341 21.8244 14.3215 21.5118C14.0089 21.1993 13.8333 20.7754 13.8333 20.3333V3.66667C13.8333 3.22464 14.0089 2.80072 14.3215 2.48816C14.6341 2.17559 15.058 2 15.5 2H19.6667C20.1087 2 20.5326 2.17559 20.8452 2.48816C21.1577 2.80072 21.3333 3.22464 21.3333 3.66667ZM8.83333 2H4.66667C4.22464 2 3.80072 2.17559 3.48816 2.48816C3.17559 2.80072 3 3.22464 3 3.66667V20.3333C3 20.7754 3.17559 21.1993 3.48816 21.5118C3.80072 21.8244 4.22464 22 4.66667 22H8.83333C9.27536 22 9.69928 21.8244 10.0118 21.5118C10.3244 21.1993 10.5 20.7754 10.5 20.3333V3.66667C10.5 3.22464 10.3244 2.80072 10.0118 2.48816C9.69928 2.17559 9.27536 2 8.83333 2Z" fill="white" />
                    </svg>
                </div>
            }
            <div onClick={handleNext} className="cursor animation">
                <span className="tooltip-text"> Next </span>
                <svg name="next" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.25206 3.56592L1.14786 4.49968L1.05168 5.52427L1.00359 6.12272L0.935465 7.12461L0.895388 7.85932L0.844625 9.05356L0.819246 9.90984L0.803215 10.8115L0.797873 11.756L0.803215 12.7004L0.819246 13.6021L0.844625 14.4584L0.876686 15.2679L0.914089 16.028L0.980885 17.07L1.02764 17.6978L1.14786 19.0149L1.25339 19.9474C1.28666 20.2213 1.38315 20.4837 1.53527 20.7138C1.68738 20.944 1.89094 21.1357 2.12986 21.2737C2.36878 21.4117 2.63652 21.4922 2.91191 21.5089C3.18731 21.5256 3.46283 21.4781 3.71669 21.37L4.37125 21.0855L5.50137 20.5699L6.3296 20.1718L6.94141 19.8699L7.94062 19.3609L8.65931 18.9829L9.41539 18.5741L10.2089 18.1346L11.0358 17.6631L11.8573 17.1822L12.6348 16.716L13.7155 16.048L14.6906 15.4202L15.2824 15.0301L15.8248 14.6641L16.5461 14.1658L17.3303 13.6048L17.9047 13.1786C18.1252 13.0127 18.3041 12.7977 18.4272 12.5506C18.5503 12.3036 18.6143 12.0313 18.614 11.7553C18.6137 11.4793 18.5493 11.2071 18.4257 10.9603C18.3021 10.7135 18.1228 10.4989 17.902 10.3333L17.4679 10.01L16.9041 9.60126L16.2135 9.11635L15.4026 8.56331L14.4756 7.95149L13.7943 7.51467L13.0649 7.05781L12.2888 6.58359L11.4646 6.09467L11.0371 5.8462C10.7593 5.6859 10.4867 5.52961 10.2182 5.38L9.43276 4.94451L8.68068 4.53841L7.62136 3.98538L6.65287 3.49779L6.06243 3.21059L5.26493 2.83254L4.19358 2.34897L3.71936 2.14325C3.46537 2.03466 3.18958 1.9867 2.91384 2.00316C2.6381 2.01963 2.36998 2.10006 2.13071 2.2381C1.89145 2.37614 1.6876 2.56799 1.53533 2.79846C1.38305 3.02893 1.28519 3.29168 1.25206 3.56592ZM20.5283 2.41042C20.2011 2.41046 19.8853 2.53058 19.6408 2.74801C19.3963 2.96543 19.2401 3.26502 19.2018 3.58997L19.1924 3.74626V19.7764C19.1925 20.1036 19.3126 20.4194 19.53 20.6639C19.7474 20.9084 20.047 21.0646 20.372 21.1029L20.5283 21.1122H21.8641C22.1913 21.1122 22.5071 20.992 22.7516 20.7746C22.9961 20.5572 23.1523 20.2576 23.1906 19.9327L23.2 19.7764V3.74626C23.1999 3.41907 23.0798 3.10327 22.8624 2.85876C22.6449 2.61426 22.3453 2.45805 22.0204 2.41977L21.8641 2.41042H20.5283Z" fill="white" />
                </svg>
            </div>

            <div onClick={checkClick} className="animation cursor">
                <span className="tooltip-text">{loop ? "Loop" : "unLoop"}</span>
                <svg name="loop" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.99829 10.7499C1.99829 11.4414 2.55693 12 3.2484 12C3.93987 12 4.49851 11.4414 4.49851 10.7499C4.49851 8.6794 6.17834 6.99957 8.24883 6.99957H14.4994V8.24967C14.4994 8.75362 14.8041 9.2107 15.2729 9.40602C15.7417 9.60135 16.2769 9.49197 16.6363 9.13647L19.1365 6.63625C19.6248 6.14793 19.6248 5.35489 19.1365 4.86657L16.6363 2.36635C16.2769 2.00695 15.7417 1.90147 15.2729 2.0968C14.8041 2.29213 14.4994 2.74529 14.4994 3.24924V4.49935H8.24883C4.79541 4.49935 1.99829 7.29647 1.99829 10.7499ZM22 13.2501C22 12.5586 21.4414 12 20.7499 12C20.0585 12 19.4998 12.5586 19.4998 13.2501C19.4998 15.3206 17.82 17.0004 15.7495 17.0004H9.49894V15.7503C9.49894 15.2464 9.19423 14.7893 8.72544 14.594C8.25665 14.3986 7.72144 14.508 7.36204 14.8635L4.86182 17.3637C4.3735 17.8521 4.3735 18.6451 4.86182 19.1334L7.36204 21.6336C7.72144 21.9931 8.25665 22.0985 8.72544 21.9032C9.19423 21.7079 9.49894 21.2547 9.49894 20.7469V19.5007H15.7495C19.2029 19.5007 22 16.7035 22 13.2501Z" fill="white" />
                </svg>
            </div>

        </div>
    );
}


export default PlayPause;